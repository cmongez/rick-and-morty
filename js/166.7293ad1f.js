"use strict";(self["webpackChunknupro"]=self["webpackChunknupro"]||[]).push([[166],{885:function(t,o,s){s.r(o),s.d(o,{default:function(){return at}});var a=s(252);function e(t,o,s,e,r,l){const i=(0,a.up)("Products");return(0,a.wg)(),(0,a.j4)(i)}function r(t,o,s,e,r,l){const i=(0,a.up)("Carrusel"),n=(0,a.up)("Card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i),(0,a.Wm)(n,{resultProps:r.result},null,8,["resultProps"])])}var l=s(963),i=s(577);const n={class:"container-fluid mb-5"},c={class:"container w-75 d-flex"},d=(0,a._)("button",{class:"btn btn-outline-success",type:"submit"},"Search",-1),u=(0,a._)("div",{class:"d-flex justify-content-end m-4"},[(0,a._)("button",{class:"btn btn-success",href:"","data-bs-toggle":"modal","data-bs-target":"#exampleModalCart"}," Ver Carrito ")],-1),m={class:"row justify-content-center"},p={class:"card"},h=["src","alt"],b={class:"card-body flex-grow-2"},f={class:"card-title text-center"},v={class:"mx-auto"},g={class:"d-flex justify-content-center flex-wrap"},w={class:"d-flex justify-content-around w-100 mb-2"},C=["onClick"],k=["onClick"],_=["onClick"];function y(t,o,s,e,r,y){const x=(0,a.up)("CartDetail"),P=(0,a.up)("Modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(x,{totale:r.sumatoria,cardACart:r.carrito,onRemoveAll2:y.onRemoveAll,onOneMore2:y.onOneMore,onOneLess2:y.onOneLess,onRemove2:y.onRemove},null,8,["totale","cardACart","onRemoveAll2","onOneMore2","onOneLess2","onRemove2"]),(0,a.Wm)(P,{modalProps:r.modal},null,8,["modalProps"]),(0,a._)("div",n,[(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{class:"form-control me-2","onUpdate:modelValue":o[0]||(o[0]=t=>r.filtro=t),type:"text",placeholder:"Buscar...","aria-label":"Search"},null,512),[[l.nr,r.filtro]]),d]),u,(0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.filtroNombres,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"d-flex col-9 col-sm-4 col-md-3 col-lg-2 px-4 mb-2 pb-2",key:o},[(0,a._)("div",p,[(0,a._)("img",{class:"card-img-top",src:t.image,alt:t.name},null,8,h),(0,a._)("div",b,[(0,a._)("h5",f,(0,i.zw)(t.name),1),(0,a._)("span",v,"Stock:"+(0,i.zw)(t.stock),1)]),(0,a._)("div",g,[(0,a._)("div",w,[t.stock>0?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-success p-1",onClick:o=>y.addToCart(t.id)}," Comprar ",8,C)):((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn btn-outline-success p-1 disabled",onClick:o=>y.addToCart(t.id)}," Comprar ",8,k)),(0,a._)("button",{type:"button",class:"btn btn-danger p-1","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:o=>y.showMore(t)}," Detalles ",8,_)])])])])))),128))])])],64)}var x=s(776);const P={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},M={class:"modal-dialog"},R={class:"modal-content"},D={class:"modal-header"},O={class:"modal-title",id:"exampleModalLabel"},j=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),A={class:"modal-body"},L={class:"modal-body"},z=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,a._)("button",{type:"button",class:"btn btn-primary"},"Save changes")],-1);function Z(t,o,s,e,r,l){return(0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("div",M,[(0,a._)("div",R,[(0,a._)("div",D,[(0,a._)("h5",O,(0,i.zw)(s.modalProps.name),1),j]),(0,a._)("div",A,[(0,a._)("div",L,[(0,a._)("ul",null,[(0,a._)("li",null,"Orígen: "+(0,i.zw)(s.modalProps.origin),1),(0,a._)("li",null,"Género: "+(0,i.zw)(s.modalProps.gender),1),(0,a._)("li",null,"Especie: "+(0,i.zw)(s.modalProps.species),1),(0,a._)("li",null,"Estado: "+(0,i.zw)(s.modalProps.status),1)])]),z])])])])}var q={props:{modalProps:{type:Object,required:!0}}},E=s(744);const N=(0,E.Z)(q,[["render",Z]]);var S=N,T={components:{Modal:S,CartDetail:x.Z},data(){return{carrito:[],producto:[],modal:{name:"",origin:"",status:"",gender:"",species:""},filtro:"",sumatoria:0}},props:{resultProps:{type:Array,required:!0},favoritosProps:{type:Array}},methods:{showMore(t){this.modal={name:t.name,origin:t.origin.name,status:t.status,gender:t.gender},console.log(t)},totalCarrito(){this.sumatoria=0;for(let t=0;t<this.carrito.length;t++)this.sumatoria+=this.carrito[t].precio*this.carrito[t].cant},addToCart(t){this.producto=this.resultProps.find((o=>o.id===t)),this.verificar=this.carrito.some((o=>o.id===t)),this.verificar?(this.producto.stock>0?(this.producto.cant++,this.producto.stock--):alert("No nos quedan mas producto de ese tipo"),this.totalCarrito()):(this.producto.precio=100,this.producto.cant=1,this.producto.stock--,this.carrito.push(this.producto))},onOneMore(t){let o=this.carrito.find((o=>o.id==t));o.stock>0?(o.cant++,o.stock--):alert("No nos quedan mas producto de ese tipo"),this.totalCarrito()},onOneLess(t){let o=this.carrito.find((o=>o.id==t));o.stock>=0?(o.cant--,o.stock++):alert("No nos quedan mas producto de ese tipo"),o.cant<=0&&this.onRemove(t),this.totalCarrito()},onRemove(t){let o=this.carrito.filter((o=>o.id!==t)),s=this.carrito.find((o=>o.id==t));s.stock+=s.cant,this.carrito=o,this.totalCarrito()},onRemoveAll(t){this.carrito.forEach((t=>{let o=this.resultProps.find((o=>o.id==t.id));o.stock+=o.cant})),this.carrito=[],this.totalCarrito()}},computed:{filtroNombres:function(){return this.resultProps.filter((t=>t.name.toLowerCase().match(this.filtro.toLowerCase())))}}};const W=(0,E.Z)(T,[["render",y]]);var H=W,V=s.p+"img/606024.80b2a76c.jpg",Y=s.p+"img/633288.6d56ff61.png",B=s.p+"img/812062.581da1a0.png";const F={id:"carouselExampleFade",class:"carousel slide carousel-fade mb-4 d-flex align-items-center","data-bs-ride":"carousel"},G=(0,a.uE)('<h1 class="subtitleRick w-100 p-5 h1 text-center">Tienda de Rick and Morty</h1><div class="carousel-inner container__subtitleRick"><div class="carousel-item active"><img src="'+V+'" class="d-block w-100" alt="..."></div><div class="carousel-item"><img src="'+Y+'" class="d-block w-100" alt="..."></div><div class="carousel-item"><img src="'+B+'" class="d-block w-100" alt="..."></div></div>',2),K=[G];function U(t,o,s,e,r,l){return(0,a.wg)(),(0,a.iD)("div",F,K)}var I={name:"Carrusel"};const J=(0,E.Z)(I,[["render",U]]);var Q=J,X={components:{Card:H,Carrusel:Q},data(){return{result:[]}},async created(){try{const t=await fetch("https://rickandmortyapi.com/api/character"),o=await t.json();this.result=o.results}catch{console.log(data.results)}for(let t=0;t<this.result.length;t++)this.result[t].stock=10}};const $=(0,E.Z)(X,[["render",r]]);var tt=$,ot={components:{Products:tt}};const st=(0,E.Z)(ot,[["render",e]]);var at=st}}]);
//# sourceMappingURL=166.7293ad1f.js.map